function windowResize(){w=$(window).width(),$("#feedback").html(w)}function slideshowInit(){$slideshows={},$(".slideshowContainer").each(function(){ssid=$(this).prop("id"),total=$(".slideshowSlider .slide",this).length,$slideshows[ssid]={id:ssid,total:total,current:0,count:0}}).on("swipeleft",slideshowSwipe),$(".slideshowControls .prevNext li").on("click",function(){dir=$(this).index()?1:-1,ssid=$(this).parent().data("slideshow"),slideshowNexPrev(ssid,dir)}),$(".slideshowControls .slideshowIndicators li").on("click",function(){ssid=$(this).parent().data("slideshow"),current=$(this).index(),slideshowJumpto(ssid,current)})}function slideshowNexPrev(e,s){$slideshows[e].count+=s,$slideshows[e].current+=s,$slideshows[e].current<0&&($slideshows[e].current=$slideshows[e].total-1),$slideshows[e].current>=$slideshows[e].total&&($slideshows[e].current=0),slideshowAdvance(e)}function slideshowJumpto(e,s){$slideshows[e].count++,$slideshows[e].current=s,slideshowAdvance(e)}function slideshowAdvance(e){count=$slideshows[e].count,current=$slideshows[e].current,left=-100*count+"%",right=100*count+"%",$("#"+e+" .slideshowSlider").css({left:left,right:right}),$("#"+e+" .slideshowSlider .slide:eq("+current+")").css({left:right}),$("#"+e+" .slideshowIndicators li").removeClass("active"),$("#"+e+" .slideshowIndicators li:eq("+current+")").addClass("active"),$("#"+e+" .slideshowSlideTitles").length&&(console.log("yes?"),$("#"+e+" .slideshowSlideTitles h3").removeClass("active"),$("#"+e+" .slideshowSlideTitles h3:eq("+current+")").addClass("active"))}function slideshowSwipe(e){p=findAncestor(e.target,"slideshowContainer"),ssid=p.id,slideshowNexPrev(ssid,1)}function findAncestor(e,s){for(;(e=e.parentElement)&&!e.classList.contains(s););return e}function homepageVideo(){$("#homepageVideo video").hide(),$(window).load(function(){$("#homepageVideo video").fadeIn(500),$vw=$("#homepageVideo video").width(),$vh=$("#homepageVideo video").height(),$vr=$vh/$vw})}function leadershipPopup(){$("body").append('<aside id="leadershipPopup"><div class="leadershipPopupContainer"><div class="leadershipPopupContent"></div><div class="leadershipPopupClose"><button><span>Close</span></button></div></div></aside>'),$("a[data-action='leadership']").on("click",function(e){$(window).width()>686&&(e.preventDefault(),h=$(this).prop("href")+" .leadershipBio",o=$(this).offset().top-51,$("#leadershipPopup .leadershipPopupContent").load(h,function(){$("#leadershipPopup").fadeOut(250,function(){$(this).css({top:o}).fadeIn(250)})}))}),$(".leadershipPopupClose button").on("click",function(e){e.preventDefault(),$("#leadershipPopup").fadeOut(250)})}function tiledGo(){$(".tiled").addClass("go"),$(window).on("load resize",function(){tiledResize()}),tiledResize()}function tiledResize(){for(smallest=1/0,largest=0,container=$(".tile").parent().width(),$(".tiled .tile").each(function(){w=$(this).width(),w<smallest&&(smallest=w),w>largest&&(largest=w)}),numcols=Math.round(container/smallest),columns=new Array,i=0;i<numcols;i++)columns.push(0);for(gutter=(container-smallest*numcols)/(numcols-1),colwidth=gutter+smallest,$(".tiled .tile").each(function(){for(w=$(this).width(),h=$(this).height()+30,s=1/0,w>smallest?l=numcols-1:l=numcols,i=0;i<l;i++)columns[i]<s&&(scol=i,s=columns[i]);$(this).css({left:scol*colwidth,top:columns[scol]}),columns[scol]+=h,w>smallest&&(columns[scol+1]+=h)}),tallest=0,i=0;i<numcols;i++)columns[i]>tallest&&(tallest=columns[i]);$(".tile").parent().height(tallest),console.log(columns)}function jobsAccordion(){$(".jobsList").addClass("init"),$(".jobs-accordion h4").on("click",function(){$(this).toggleClass("active").next(".jobsDetail").slideToggle(250)}),$(".collapse-accordion").on("click",function(){$(this).parents(".jobsDetail").slideUp(250).siblings("h4").removeClass("active")})}var $=jQuery;$(document).ready(function(){$("#homepageVideo").length&&homepageVideo(),$("a[data-action='leadership']").length&&leadershipPopup(),$(".tiled").length&&tiledGo(),$(".jobsList").length&&jobsAccordion(),$(".current_page .navDropdown a[href^='#']").click(function(e){e.preventDefault(),h=$(this).attr("href"),o=$(h).offset().top-$(".fixedTop").height()-50,$("html, body").animate({scrollTop:o},500)}),$("body.single-service #headerContent li.services-menu").addClass("current_page"),$(window).resize(function(){windowResize()})}),$(window).load(function(){$(".slideshowContainer").length&&slideshowInit(),windowResize()});